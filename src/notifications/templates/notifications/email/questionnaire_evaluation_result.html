{% load i18n %}<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;}
        .container {max-width:600px;margin:0 auto;background:white;}
        .header-approved {background:linear-gradient(135deg,#4CAF50 0%,#45a049 100%);color:white;padding:30px 20px;text-align:center;}
        .header-rejected {background:linear-gradient(135deg,#f44336 0%,#d32f2f 100%);color:white;padding:30px 20px;text-align:center;}
        .content {padding:30px 20px;}
        .card {background:#f8f9fa;border-left:4px solid #2196F3;padding:20px;margin:20px 0;border-radius:4px;}
        .card-approved {border-left-color:#4CAF50;}
        .card-rejected {border-left-color:#f44336;}
        .button {display:inline-block;padding:14px 28px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white!important;text-decoration:none;border-radius:6px;margin:20px 0;font-weight:600;}
        .footer {background:#f8f9fa;padding:20px;text-align:center;color:#666;font-size:14px;}
        .detail-row {margin:8px 0;color:#333;}
        .detail-label {font-weight:600;color:#555;}
        .comments {background:#f0f0f0;padding:15px;margin:15px 0;border-radius:4px;font-style:italic;color:#555;}
        .status-approved {color:#4CAF50;font-weight:600;}
        .status-rejected {color:#f44336;font-weight:600;}
    </style>
</head>
<body>
    <div class="container">
        {% if context.evaluation_status == "APPROVED" %}
        <div class="header-approved">
            <h1 style="margin:0;font-size:28px;">✅ {% trans "Questionnaire Approved" %}</h1>
        </div>
        {% else %}
        <div class="header-rejected">
            <h1 style="margin:0;font-size:28px;">❌ {% trans "Questionnaire Not Approved" %}</h1>
        </div>
        {% endif %}
        <div class="content">
            <p>{% trans "Hello" %} {{ user.display_name }},</p>
            {% if context.evaluation_status == "APPROVED" %}
                {% if context.event_name %}
            <p>{% blocktranslate with questionnaire=context.questionnaire_name event=context.event_name %}Great news! Your questionnaire <strong>{{ questionnaire }}</strong> for <strong>{{ event }}</strong> has been approved.{% endblocktranslate %}</p>
                {% else %}
            <p>{% blocktranslate with questionnaire=context.questionnaire_name org=context.organization_name %}Great news! Your questionnaire <strong>{{ questionnaire }}</strong> for <strong>{{ org }}</strong> has been approved.{% endblocktranslate %}</p>
                {% endif %}
            {% else %}
                {% if context.event_name %}
            <p>{% blocktranslate with questionnaire=context.questionnaire_name event=context.event_name %}Your questionnaire <strong>{{ questionnaire }}</strong> for <strong>{{ event }}</strong> was not approved.{% endblocktranslate %}</p>
                {% else %}
            <p>{% blocktranslate with questionnaire=context.questionnaire_name org=context.organization_name %}Your questionnaire <strong>{{ questionnaire }}</strong> for <strong>{{ org }}</strong> was not approved.{% endblocktranslate %}</p>
                {% endif %}
            {% endif %}
            <div class="card {% if context.evaluation_status == "APPROVED" %}card-approved{% else %}card-rejected{% endif %}">
                <div class="detail-row"><span class="detail-label">{% trans "Questionnaire:" %}</span> {{ context.questionnaire_name }}</div>
                <div class="detail-row"><span class="detail-label">{% trans "Organization:" %}</span> {{ context.organization_name }}</div>
                {% if context.event_name %}<div class="detail-row"><span class="detail-label">{% trans "Event:" %}</span> {{ context.event_name }}</div>{% endif %}
                <div class="detail-row"><span class="detail-label">{% trans "Status:" %}</span> <span class="{% if context.evaluation_status == "APPROVED" %}status-approved{% else %}status-rejected{% endif %}">{% if context.evaluation_status == "APPROVED" %}{% trans "Approved" %}{% else %}{% trans "Not Approved" %}{% endif %}</span></div>
                {% if context.evaluation_score %}<div class="detail-row"><span class="detail-label">{% trans "Score:" %}</span> {{ context.evaluation_score }}</div>{% endif %}
            </div>
            {% if context.evaluation_comments %}
            <p><strong>{% trans "Evaluator Comments:" %}</strong></p>
            <div class="comments">{{ context.evaluation_comments }}</div>
            {% endif %}
            {% if context.evaluation_status == "APPROVED" and context.event_url %}
            <p style="margin-top:20px;padding:15px;background:#fff3cd;border-left:4px solid #ffc107;border-radius:4px;">
                <strong>⚠️ {% trans "Important:" %}</strong> {% if context.requires_ticket %}{% trans "Approval does not mean you are registered. Please secure your ticket to confirm your attendance." %}{% else %}{% trans "Approval does not mean you are registered. Please RSVP to confirm your attendance." %}{% endif %}
            </p>
            {% endif %}
            {% if context.event_url %}
            <center>
                <a href="{{ context.event_url }}" class="button">{% if context.evaluation_status == "APPROVED" %}{% if context.requires_ticket %}{% trans "Get Ticket" %}{% else %}{% trans "RSVP Now" %}{% endif %}{% else %}{% trans "View Event" %}{% endif %}</a>
            </center>
            {% endif %}
        </div>
        {% include "notifications/email/_footer.html" %}
    </div>
</body>
</html>
